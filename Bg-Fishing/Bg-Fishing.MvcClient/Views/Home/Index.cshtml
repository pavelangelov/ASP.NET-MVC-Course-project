@model Bg_Fishing.MvcClient.Models.HomeViewModel

@{
    ViewBag.Title = "Bg-Fishing";
}

@section PageStyles {
    <link href="~/Content/page-styles/home-style.css" rel="stylesheet" />
}

<div class="container">
    <h3 class="text-center text-default">Последни новини и събития</h3>
    <div id="news-container">
        @foreach (var news in Model.News)
        {
            <div class="col-sm-10 col-sm-offset-1">
                <article class="post">
                    <div class="post-thumb">
                        <img src="@news.ImageUrl" alt="News-Image" />
                    </div>
                    <div class="post-content">
                        <header class="entry-header text-center text-uppercase">
                            <h1 class="entry-title">
                                @Html.ActionLink(news.Title, "News", "Home", new { newsId = news.Id }, null)
                                </h1>
                            <div class="news-info">
                                <div class="date">Публикувано на: @news.PostedOn</div>
                                <div class="comments-count-container text-success" title="Коментари">
                                    <span class="glyphicon glyphicon-comment"></span>
                                    @if (news.Comments.Count() == 0)
                                    {
                                        <span class="badge bg-red">@news.Comments.Count()</span>
                                    }
                                    else
                                    {
                                        <span class="badge bg-green">@news.Comments.Count()</span>

                                    }
                                </div>
                            </div>
                        </header>
                        <div class="entry-content">
                            <hr />
                            <p>@news.Content</p>
                        </div>
                        <div class="show-more"><a class="btn show-more-btn">Виж повече...</a></div>
                    </div>
                </article>
            </div>
        }
    </div>

    @if (Model.HasMoreNews)
    {
        <div id="load-more" class="text-center">
            <a class="btn load-more-btn" data-next-page="@Model.NextPage">Виж още новини</a>
        </div>
    }
</div>

@section PageScripts {
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.1.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <script src="~/Scripts/page-scripts/home.js"></script>
}